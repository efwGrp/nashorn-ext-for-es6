/****************************
MIT License

Copyright (c) 2023 efwGrp

https://github.com/efwGrp/nashorn-ext-for-es6
****************************/
"use strict";if(null==Math.log10&&(Math.log10=function(e){return Math.log(e)*Math.LOG10E},Object.defineProperty(Math,"log10",{enumerable:!1})),null==Math.log2&&(Math.log2=function(e){return Math.log(e)*Math.LOG2E},Object.defineProperty(Math,"log2",{enumerable:!1})),null==Math.log1p&&(Math.log1p=function(e){if((e=Number(e))<-1||e!=e)return NaN;if(0===e||e===1/0)return e;var t=e+1-1;return 0===t?e:e*(Math.log(e+1)/t)},Object.defineProperty(Math,"log1p",{enumerable:!1})),null==Math.expm1&&(Math.expm1=function(e){return Math.exp(e)-1},Object.defineProperty(Math,"expm1",{enumerable:!1})),null==Math.sinh&&(Math.sinh=function(e){return(Math.exp(e)-Math.exp(-e))/2},Object.defineProperty(Math,"sinh",{enumerable:!1})),null==Math.cosh&&(Math.cosh=function(e){return(Math.exp(e)+Math.exp(-e))/2},Object.defineProperty(Math,"cosh",{enumerable:!1})),null==Math.tanh&&(Math.tanh=function(e){var t=Math.exp(+e),r=Math.exp(-e);return t==1/0?1:r==1/0?-1:(t-r)/(t+r)},Object.defineProperty(Math,"tanh",{enumerable:!1})),null==Math.asinh&&(Math.asinh=function(e){var t=Math.abs(e);if(t<3.725290298461914e-9)return e;if(t>268435456)n=Math.log(t)+Math.LN2;else if(t>2)n=Math.log(2*t+1/(Math.sqrt(e*e+1)+t));else var r=e*e,n=Math.log1p(t+r/(1+Math.sqrt(1+r)));return e>0?n:-n},Object.defineProperty(Math,"asinh",{enumerable:!1})),null==Math.acosh&&(Math.acosh=function(e){return Math.log(e+Math.sqrt(e*e-1))},Object.defineProperty(Math,"acosh",{enumerable:!1})),null==Math.atanh&&(Math.atanh=function(e){return Math.log((1+e)/(1-e))/2},Object.defineProperty(Math,"atanh",{enumerable:!1})),null==Math.hypot&&(Math.hypot=function(){for(var e=0,t=arguments.length,r=!1;t--;){var n=arguments[t];n!==1/0&&n!==-1/0||(r=!0),e+=n*n}return r?1/0:Math.sqrt(e)},Object.defineProperty(Math,"hypot",{enumerable:!1})),null==Math.trunc&&(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)},Object.defineProperty(Math,"trunc",{enumerable:!1})),null==Math.sign&&(Math.sign=function(e){return(e>0)-(e<0)||+e},Object.defineProperty(Math,"sign",{enumerable:!1})),null==Math.cbrt&&(Math.cbrt=function(e){return e<0?-Math.pow(-e,1/3):Math.pow(e,1/3)},Object.defineProperty(Math,"cbrt",{enumerable:!1})),null==Math.imul&&(Math.imul=function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},Object.defineProperty(Math,"imul",{enumerable:!1})),null==Math.fround&&(Math.fround=function(e){var t=new Float32Array(1);return t[0]=e,t[0]},Object.defineProperty(Math,"fround",{enumerable:!1})),null==Math.clz32&&(Math.clz32=function(e){var t=e>>>0;return 0===t?32:31-(Math.log(t)/Math.LN2|0)|0},Object.defineProperty(Math,"clz32",{enumerable:!1})),null==Number.EPSILON&&(Number.EPSILON=2220446049250313e-31,Object.defineProperty(Number,"EPSILON",{enumerable:!1})),null==Number.isFinite&&(Number.isFinite=function(e){return"number"==typeof e&&isFinite(e)},Object.defineProperty(Number,"isFinite",{enumerable:!1})),null==Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&e%1==0},Object.defineProperty(Number,"isInteger",{enumerable:!1})),null==Number.isNaN&&(Number.isNaN=function(e){return e!=e},Object.defineProperty(Number,"isNaN",{enumerable:!1})),null==Number.parseFloat&&(Number.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(Number,"parseFloat",{enumerable:!1})),null==Number.parseInt&&(Number.parseInt=function(e,t){return parseInt(e,t)},Object.defineProperty(Number,"parseInt",{enumerable:!1})),null==String.prototype.codePointAt&&(String.prototype.codePointAt=function(e){var t=String(this),r=t.length,n=0,a=0,i=0;for(a=0;a<r;a+=n){var u=t.charCodeAt(a),o=t.charCodeAt(a+1);if(55296<=u&&u<=56319&&56320<=o&&o<=57343){if(i==e)return 1024*(u-55296)+o-56320+65536;n=2}else{if(i==e)return u;n=1}++i}},Object.defineProperty(String.prototype,"codePointAt",{enumerable:!1})),null==String.fromCodePoint&&(String.fromCodePoint=function(){var e,t,r,n=[],a=arguments.length;for(r=0;r<a;++r)(e=arguments[r])<65536?n.push(e):(t=e-65536,n.push(55296+(t>>10)),n.push(56320+(1023&t)));return String.fromCharCode.apply(null,n)},Object.defineProperty(String,"fromCodePoint",{enumerable:!1})),null==String.prototype.includes&&(String.prototype.includes=function(e,t){return null==t&&(t=0),this.indexOf(e,t)>-1},Object.defineProperty(String.prototype,"includes",{enumerable:!1})),null==String.prototype.repeat&&(String.prototype.repeat=function(e){for(var t="",r=0;r<e;r++)t+=this;return t},Object.defineProperty(String.prototype,"repeat",{enumerable:!1})),null==String.prototype.trimStart&&(String.prototype.trimStart=function(){return this.replace(new RegExp("^"+/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/.source,"g"),"")},Object.defineProperty(String.prototype,"trimStart",{enumerable:!1})),null==String.prototype.trimEnd&&(String.prototype.trimEnd=function(){return this.replace(new RegExp(/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/.source+"$","g"),"")},Object.defineProperty(String.prototype,"trimEnd",{enumerable:!1})),null==String.prototype.padStart&&(String.prototype.padStart=function(e,t){return null==t&&(t=" "),t.repeat(e-this.length)+this},Object.defineProperty(String.prototype,"padStart",{enumerable:!1})),null==String.prototype.padEnd&&(String.prototype.padEnd=function(e,t){return null==t&&(t=" "),this+t.repeat(e-this.length)},Object.defineProperty(String.prototype,"padEnd",{enumerable:!1})),null==Array.of&&(Array.of=function(e){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);return t},Object.defineProperty(Array,"of",{enumerable:!1})),null==Array.prototype.copyWithin&&(Array.prototype.copyWithin=function(e,t,r){var n,a,i,u=this,o=u.length;n=e<0?Math.max(o+e,0):Math.min(e,o),a=t<0?Math.max(o+t,0):Math.min(t,o),i=r<0?Math.max(o+r,0):Math.min(r,o);var l=Math.min(i-a,o-n),c=1;for(a<n&&n<a+l&&(c=-1,a=a+l-1,n=n+l-1);l>0;)a in u?u[n]=u[a]:delete u[n],a+=c,n+=c,l--;return u},Object.defineProperty(Array.prototype,"copyWithin",{enumerable:!1})),null==Array.prototype.includes&&(Array.prototype.includes=function(e,t){return null==t&&(t=0),this.indexOf(e)>-1},Object.defineProperty(Array.prototype,"includes",{enumerable:!1})),null==Array.prototype.flatMap&&(Array.prototype.flatMap=function(e){return[].concat.apply([],this.map(e))},Object.defineProperty(Array.prototype,"flatMap",{enumerable:!1})),null==Object.assign&&(Object.assign=function(e,t){for(var r=1;r<arguments.length;r++){t=arguments[r];for(var n in t)e[n]=t[n]}return e},Object.defineProperty(Object,"assign",{enumerable:!1})),null==Object.is&&(Object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},Object.defineProperty(Object,"is",{enumerable:!1})),null==Object.values&&(Object.values=function(e){var t=[];for(var r in e)t.push(e[r]);return t},Object.defineProperty(Object,"values",{enumerable:!1})),null==Object.getOwnPropertyDescriptors&&(Object.getOwnPropertyDescriptors=function(e){var t={};for(var r in e)t[r]=Object.getOwnPropertyDescriptor(e,r);return t},Object.defineProperty(Object,"getOwnPropertyDescriptors",{enumerable:!1})),null==Array.from)try{eval('Array.from=function(r){var u=arguments[1],e=arguments[2],l=[];for(var n of r)null!=u?null!=e?l.push(u.call(e,n)):l.push(u(n)):l.push(n);return l},Object.defineProperty(Array,"from",{enumerable:!1});')}catch(e){java.lang.System.out.println("Nashorn15.4 is required for Array.from implementation.")}if(null==Array.prototype.flat)try{eval('Array.prototype.flat=function(r){var t=[];for(var e of(null==r&&(r=1),this))Array.isArray(e)&&r>0?t=t.concat(e.flat(r-1)):t.push(e);return t},Object.defineProperty(Array.prototype,"flat",{enumerable:!1});')}catch(e){java.lang.System.out.println("Nashorn15.4 is required for Array.prototype.flat implementation.")}if(null==Object.entries)try{eval('Object.entries=function(e){var r,t=Object.keys(e);return{[Symbol.iterator](){return this},next:()=>void 0!==(r=t.shift())?{value:[r,e[r]]}:{done:!0}}},Object.defineProperty(Object,"entries",{enumerable:!1});')}catch(e){java.lang.System.out.println("Nashorn15.4 is required for Object.entries implementation.")}!function(e){if(null==e.setTimeout){var t=new java.util.Timer;function r(e,r){var n=new java.util.TimerTask({run:function(){try{e()}catch(e){e.printStackTrace()}}});return t.schedule(n,r||0),n}function n(e){e&&e.cancel()}function a(e,r){var n=new java.util.TimerTask({run:function(){try{e()}catch(e){e.printStackTrace()}}});return t.scheduleAtFixedRate(n,r,r),n}function i(e){e&&e.cancel()}e.setTimeout=r,e.clearTimeout=n,e.setInterval=a,e.clearInterval=i}}(this),function(e){if(null==e.Promise){function t(e){this.state="pending",this.value=void 0,this.consumers=[];try{e(this.resolve.bind(this),this.reject.bind(this))}catch(e){this.reject(e)}}t.prototype.fulfill=function(e){"pending"===this.state&&(this.state="fulfilled",this.value=e,this.broadcast())},t.prototype.reject=function(e){"pending"===this.state&&(this.state="rejected",this.value=e,this.broadcast())},t.prototype.then=function(e,r){var n=new t((function(){}));return n.onFulfilled="function"==typeof e?e:null,n.onRejected="function"==typeof r?r:null,this.consumers.push(n),this.broadcast(),n},t.prototype.catch=function(e){return this.then(null,e)},t.prototype.broadcast=function(){var e=this;if("pending"!==this.state){var t="fulfilled"==this.state?"onFulfilled":"onRejected",r="fulfilled"==this.state?"resolve":"reject";setTimeout((function(){for(;e.consumers.length>0;){var n=e.consumers.shift();try{var a=n[t];a?n.resolve(a(e.value)):n[r](e.value)}catch(e){n.reject(e)}}}))}},t.prototype.resolve=function(e){var r,n;if(this===e)throw new TypeError("Circular reference: promise value is promise itself");if(e instanceof t)e.then(this.resolve.bind(this),this.reject.bind(this));else if(e===Object(e))try{"function"==typeof(n=e.then)?n.call(e,function(e){r||(r=!0,this.resolve(e))}.bind(this),function(e){r||(r=!0,this.reject(e))}.bind(this)):this.fulfill(e)}catch(e){if(r)return;this.reject(e)}else this.fulfill(e)},e.Promise=t}}(this),function(e){if(null==e.await){function t(e){return e instanceof Promise?e:new Promise((function(t,r){try{t(e())}catch(e){r(e)}}))}function r(e){if(!e instanceof Promise)return e();var t,r=!1;e.then((function(e){t=e,r=!0})).catch((function(e){t=e,r=!0}));var n=new java.lang.Thread(new java.lang.Runnable({run:function(){for(;;){if(r)return;java.lang.Thread.sleep(50)}}}));if(n.start(),n.join(),"fulfilled"==e.state)return t;throw t}e.async=t,e.await=r}}(this);